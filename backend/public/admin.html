<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Admin - Qu·∫£n l√Ω & Ph√¢n t√≠ch d·ªØ li·ªáu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- ChartJS -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/admin.css">

  <style>
    body { background:#f4f6f9; }
    .kpi-card {
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }
  </style>
</head>

<body>

<div class="container-fluid mt-4 px-4">

  <h2 class="text-center mb-4 fw-bold">üìä TRANG QU·∫¢N TR·ªä & DATA ANALYTICS</h2>

  <!-- ================= KPI ================= -->
  <div class="row g-3 mb-4">
    <div class="col-md-3">
      <div class="card kpi-card text-center p-3">
        <h6>T·ªïng l∆∞·ª£t xem</h6>
        <h3 id="totalViews">0</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card kpi-card text-center p-3">
        <h6>T·ªïng ƒë∆°n h√†ng</h6>
        <h3 id="totalOrders">0</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card kpi-card text-center p-3">
        <h6>Doanh thu</h6>
        <h3 id="totalRevenue">0</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card kpi-card text-center p-3">
        <h6>T·ªïng s·∫£n ph·∫©m</h6>
        <h3 id="totalProducts">0</h3>
      </div>
    </div>
  </div>
  <div class="box">
  <h4>üí¨ B√¨nh lu·∫≠n</h4>
  <p>üëç T√≠ch c·ª±c: <span id="positiveCount">0</span></p>
  <p>üëé Ti√™u c·ª±c: <span id="negativeCount">0</span></p>
</div>
<div class="box">
  <h4>üîÅ H√†nh vi quay l·∫°i</h4>
  <p>üë§ Xem 1 l·∫ßn: <span id="visitOnce">0</span></p>
  <p>üîÑ Quay l·∫°i: <span id="visitRepeat">0</span></p>
</div>


  <!-- ================= BI·ªÇU ƒê·ªí ================= -->
  <div class="row mb-5 g-4">
  <div class="col-md-6">
    <div class="card p-3">
      <h6 class="fw-bold text-center">Th·ªùi gian xem trung b√¨nh theo s·∫£n ph·∫©m</h6>

      <!-- KPI th·ªùi gian xem trung b√¨nh -->
      <h3 id="avgViewTime" class="text-center text-primary my-2">0s</h3>

      <canvas id="timeChart"></canvas>
    </div>
  </div>

  <div class="col-md-6">
    <div class="card p-3">
      <h6 class="fw-bold text-center">H√†nh vi ng∆∞·ªùi d√πng</h6>
      <canvas id="sentimentChart"></canvas>
    </div>
  </div>
</div>


  <!-- ================= FORM S·∫¢N PH·∫®M ================= -->
  <div class="card mb-4">
    <div class="card-header fw-bold">Th√™m / S·ª≠a s·∫£n ph·∫©m</div>
    <div class="card-body">
      <form id="productForm">
        <input type="hidden" id="productId">

        <div class="row g-3">
          <div class="col-md-4">
            <input id="name" class="form-control" placeholder="T√™n s·∫£n ph·∫©m" required>
          </div>
          <div class="col-md-2">
            <input id="price" type="number" class="form-control" placeholder="Gi√°" required>
          </div>
          <div class="col-md-2">
            <input id="oldPrice" type="number" class="form-control" placeholder="Gi√° c≈©">
          </div>
          <div class="col-md-4">
            <input id="image" class="form-control" placeholder="·∫¢nh (/images/ao1.jpg)" required>
          </div>
          <div class="col-md-2">
            <input id="stock" type="number" class="form-control" placeholder="S·ªë l∆∞·ª£ng">
          </div>
          <div class="col-md-2">
            <input id="rating" type="number" step="0.5" min="0" max="5"
                   class="form-control" placeholder="Rating">
          </div>
          <div class="col-md-4">
            <select id="type" class="form-select" required>
              <option value="">-- Lo·∫°i hi·ªÉn th·ªã --</option>
              <option value="new">S·∫£n ph·∫©m m·ªõi</option>
              <option value="best">B√°n ch·∫°y</option>
              <option value="sale">Khuy·∫øn m√£i</option>
              <option value="fashion">Th·ªùi trang</option>
              <option value="view">Xem nhi·ªÅu</option>
            </select>
          </div>
          <div class="col-md-4">
            <select id="category" class="form-select" required>
              <option value="">-- Danh m·ª•c --</option>
              <option value="aothun">√Åo thun</option>
              <option value="aokhoac">√Åo kho√°c</option>
              <option value="hoodie">Hoodie</option>
              <option value="quankaki">Qu·∫ßn kaki</option>
            </select>
          </div>
          <div class="col-md-12">
            <textarea id="description" class="form-control" rows="3"
                      placeholder="M√¥ t·∫£ s·∫£n ph·∫©m"></textarea>
          </div>
          <div class="col-md-2 ms-auto">
            <button class="btn btn-primary w-100">üíæ L∆∞u</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- ================= DANH S√ÅCH S·∫¢N PH·∫®M ================= -->
  <div class="card mb-5">
    <div class="card-header fw-bold">Danh s√°ch s·∫£n ph·∫©m</div>
    <div class="card-body table-responsive">
      <table class="table table-bordered text-center align-middle">
        <thead class="table-dark">
          <tr>
            <th>T√™n</th>
            <th>Gi√°</th>
            <th>Lo·∫°i</th>
            <th>Danh m·ª•c</th>
            <th>·∫¢nh</th>
            <th>H√†nh ƒë·ªông</th>
          </tr>
        </thead>
        <tbody id="productList"></tbody>
      </table>
    </div>
  </div>

  <!-- ================= ƒê∆†N H√ÄNG ================= -->
  <h4 class="fw-bold mb-3">üì¶ Kh√°ch h√†ng ƒë√£ mua</h4>
  <div class="card mb-5">
    <div class="card-body table-responsive">
      <table class="table table-bordered text-center align-middle">
        <thead class="table-dark">
          <tr>
            <th>T√™n kh√°ch</th>
            <th>SƒêT</th>
            <th>S·∫£n ph·∫©m</th>
            <th>S·ªë l∆∞·ª£ng</th>
            <th>Th√†nh ti·ªÅn</th>
            <th>Ng√†y mua</th>
            <th>ƒê·ªãa ch·ªâ</th>
            <th>Ghi ch√∫</th>
          </tr>
        </thead>
        <tbody id="orderList"></tbody>
      </table>
    </div>
  </div>

</div>

<!-- ================= MAIN JS ================= -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="admin.js"></script>

</body>
</html>
